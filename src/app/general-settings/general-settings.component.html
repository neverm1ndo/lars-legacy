<div class="d-flex flex-column h-100 p-4">
  <form [formGroup]="settings" (change)="setup()">
    <div class="d-flex justify-content-between align-content-center mb-2">
      <div class="">
        <h6>Сворачивать в трей</h6>
        <small>Прятать LARS в трей при сворачивании приложения</small>
      </div>
      <label class="switch" for="checkbox2">
        <input formControlName="tray" type="checkbox" id="checkbox2" />
        <div class="slider round"></div>
      </label>
    </div>
    <div class="d-flex justify-content-between align-content-center mb-2">
      <div class="">
        <h6>Количество подгружаемых строк</h6>
        <small>Определяет размер загружаемого чанка со строками. По умолчанию: <b>100</b>. Максимум: <b>500</b><br> Чем меньше число, тем чаще подгрузки, но выше производительность листинга.</small>
      </div>
      <div class="select">
        <ng-select [items]="chunkSizes"
        bindLabel="val"
        formControlName="lineChunk"
        [searchable]="false"
        [clearable]="false"
        bindValue="val"
        (change)="setup()"
        class="custom">
      </ng-select>
      </div>
    </div>
    <div class="d-flex justify-content-between align-content-center mb-2">
      <div class="">
        <h6>Стиль листинга</h6>
        <small>Выбор между стилями отображения лога</small>
      </div>
      <div class="styles d-flex justify-content-between">
        <div class="form-check custom-control custom-radio">
          <input formControlName="listStyle" class="form-check-input custom-control-input" type="radio" name="listStyle" id="inlineRadio0" value="inline">
          <label class="form-check-label custom-control-label" for="inlineRadio0">Однострочный</label>
        </div>
        <div class="form-check custom-control custom-radio">
          <input formControlName="listStyle" class="form-check-input custom-control-input" type="radio" name="listStyle" id="inlineRadio1" value="small">
          <label class="form-check-label custom-control-label" for="inlineRadio1">Компактный</label>
        </div>
        <div class="form-check custom-control custom-radio">
          <input formControlName="listStyle" class="form-check-input custom-control-input" type="radio" name="listStyle" id="inlineRadio2" value="big">
          <label class="form-check-label custom-control-label" for="inlineRadio2">Увеличеный</label>
        </div>
        <div class="form-check custom-control custom-radio">
          <input formControlName="listStyle" class="form-check-input custom-control-input" type="radio" name="listStyle" id="inlineRadio3" value="legacy">
          <label class="form-check-label custom-control-label" for="inlineRadio3">Legacy</label>
        </div>
      </div>
    </div>
    <div class="d-flex listing-preview col-12">
      <div class="row w-100">
        <div *ngIf="listStyle == 'big' || listStyle == 'small'" [class.expanded]="listStyle == 'big'" class="col-12 logline">
          <div class="row">
            <div class="col-3 col-md-2 col-lg-2">
              <strong>{{date | date:'d MMM yy, HH:mm:ss'}}</strong>
            </div>
            <div class="d-none d-lg-block d-lg-1 col-3 col-md-2 line-process">
              &#60;dev/weapon&#62;
            </div>
            <div class="col-3 col-md-2 col-lg-2 text-center">
              <strong>John_Doe</strong>
              <br>
              <span class="line-id">id: 42</span>
            </div>
            <div class="col-lg-6 col-8">
              <line-process [content]="{ message: '31 1010'}"  process="<dev/weapon>"></line-process>
            </div>
          </div>
        </div>
        <div *ngIf="listStyle == 'inline'" [class.inline]="listStyle == 'inline'" class="col-12 logline">
          <div class="row">
            <div class="col-3">
              <strong>{{date | date:'d MMM yy, HH:mm:ss'}}</strong>
            </div>
            <div class="col-5">
              <simple-line-process process="<dev/weapon>"></simple-line-process>
            </div>
            <div class="col-2">
              <strong>John_Doe</strong><span> (42)</span>
            </div>
            <div class="col-2">
              31 1010
            </div>
          </div>
        </div>
        <div *ngIf="listStyle == 'legacy'" class="col-12">
          <div class="row legacy">
            <div class="col-sm-3 col-md-4 col-lg-3">
              <span><b>{{ date | date:'d MMM yy, HH:mm:ss' }}</b></span>
            </div>
            <div class="col-sm-9 col-md-8 col-lg-9">
              <span class="legacy-process"> &#60;dev/weapon&#62;</span>
              <span class="legacy-nickname">
                John_Doe
              </span>
              <span class="legacy-id">
                (42)
              </span>
              <span> 31 1010</span><br>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-between flex-wrap align-content-center mb-2">
      <div class="">
        <h6>Стиль текстового редактора</h6>
        <small>Стили подсветки синтаксиса текстового редактора</small>
      </div>
      <div class="styles w-100 d-flex justify-content-stretch">
        <div class="form-check custom-control custom-radio flex-fill justify-content-center d-flex">
          <input formControlName="textEditorStyle" class="form-check-input custom-control-input" type="radio" name="textEditorStyle" id="inlineRadio4" value="dracula">
          <label class="custom-control-label" for="inlineRadio4">dracula</label>
        </div>
        <div class="form-check custom-control custom-radio flex-fill justify-content-center d-flex">
          <input formControlName="textEditorStyle" class="form-check-input custom-control-input" type="radio" name="textEditorStyle" id="inlineRadio5" value="material">
          <label class="custom-control-label" for="inlineRadio5">material</label>
        </div>
        <div class="form-check custom-control custom-radio flex-fill justify-content-center d-flex">
          <input formControlName="textEditorStyle" class="form-check-input custom-control-input" type="radio" name="textEditorStyle" id="inlineRadio6" value="nord">
          <label class="custom-control-label" for="inlineRadio6">nord</label>
        </div>
        <div class="form-check custom-control custom-radio flex-fill justify-content-center d-flex">
          <input formControlName="textEditorStyle" class="form-check-input custom-control-input" type="radio" name="textEditorStyle" id="inlineRadio7" value="panda-syntax">
          <label class="custom-control-label" for="inlineRadio7">panda</label>
        </div>
        <div class="form-check custom-control custom-radio flex-fill justify-content-center d-flex">
          <input formControlName="textEditorStyle" class="form-check-input custom-control-input" type="radio" name="textEditorStyle" id="inlineRadio8" value="cobalt">
          <label class="custom-control-label" for="inlineRadio8">cobalt</label>
        </div>
        <div class="form-check custom-control custom-radio flex-fill justify-content-center d-flex">
          <input formControlName="textEditorStyle" class="form-check-input custom-control-input" type="radio" name="textEditorStyle" id="inlineRadio9" value="ayu-mirage">
          <label class="custom-control-label" for="inlineRadio9">ayu</label>
        </div>
        <div class="form-check custom-control custom-radio flex-fill justify-content-center d-flex">
          <input formControlName="textEditorStyle" class="form-check-input custom-control-input" type="radio" name="textEditorStyle" id="inlineRadio10" value="yonce">
          <label class="custom-control-label" for="inlineRadio10">yonce</label>
        </div>
      </div>
    </div>
  </form>
  <div class="w-100 listing-preview">
    <ngx-codemirror
    [ngModel]="textplain"
    [options]="cmSettings"
    ></ngx-codemirror>
  </div>
  <hr>
  <div class="credits d-flex w-100">
    <div class="d-flex flex-row w-100 justify-content-between">
      <div class="d-flex flex-column">
        <h6>О программе</h6>
        <div>
          <small>Liberty Admin Remote Service v{{ version }}</small>
        </div>
      </div>
      <div class="d-flex flex-row align-self-center">
        <img src="lars://assets/images/codemirror.png" alt="">
      </div>
    </div>
  </div>
</div>
